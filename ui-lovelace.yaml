title: Home
# custom_header:
#   compact_mode: true
#   button_text:
#     # options: '{{dayNameShort}} {{year4d}}-{{monthNumLZ}}-{{dayNumLZ}}<br>{{ hours24LZ }}:{{ minutesLZ }}'
#     options: '{{dayNameShort}} {{monthNameShort}} {{dayNum}}<br>{{hours24LZ}}:{{minutesLZ}}'
# swipe_nav:
#   wrap: true
#   animate: flip
#   skip_tabs:
#   swipe_amount: 15
views:
  - title: Main
    icon: mdi:home-assistant
    cards:

      - type: vertical-stack
        cards:
          - type: alarm-panel
            states:
              - arm_home
              - arm_away
            entity: alarm_control_panel.alarm
          - type: grid
            square: false
            cards:
              # - type: light
              #   entity: light.upstairs_lights
              - type: light
                entity: light.bedroom_lights
                name: Bedroom
              # - type: light
              #   entity: light.downstairs_lights
              - type: light
                entity: light.dining_room_lamp
                name: Dining
              - type: light
                entity: light.living_room_lights
                name: Living
              - type: light
                entity: light.lamp
              - type: light
                entity: light.hallway
              - type: light
                entity: light.porch
              - type: button
                entity: switch.downstairs_plug
              - type: button
                entity: switch.upstairs_plug
      - type: vertical-stack
        cards:
          - type: 'custom:simple-thermostat'
            entity: climate.downstairs
            step_size: 0.1
            decimals: 1
            layout:
              step: row
              mode:
                headings: false
            fallback: ' '
            control:
              _names: true
              _headings: false
              hvac:
                heat_cool: false
                'off': 
                  name: false
                heat: 
                  name: false
                cool:
                  name: false
              preset: true
          - type: 'custom:simple-thermostat'
            entity: climate.upstairs
            step_size: 0.1
            decimals: 1
            layout:
              step: row
              mode:
                headings: false
            fallback: ' '
            control:
              _names: true
              _headings: false
              hvac:
                heat_cool: false
                'off': 
                  name: false
                heat: 
                  name: false
                cool:
                  name: false
              preset: true
      - type: vertical-stack
        cards:
          - type: picture-entity
            title: front
            entity: camera.front

          - type: picture-entity
            title: back
            entity: camera.back

  - panel: true
    title: Tablet
    icon: 'mdi:tablet'
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: alarm-panel
                    states:
                      - arm_home
                      - arm_away
                    entity: alarm_control_panel.alarm
                  - type: grid
                    square: false
                    cards:
                      # - type: light
                      #   entity: light.upstairs_lights
                      - type: light
                        entity: light.bedroom_lights
                        name: Bedroom
                      # - type: light
                      #   entity: light.downstairs_lights
                      - type: light
                        entity: light.dining_room_lamp
                        name: Dining
                      - type: light
                        entity: light.living_room_lights
                        name: Living
                      - type: button
                        entity: switch.downstairs_plug
                      - type: light
                        entity: light.hallway
                      - type: light
                        entity: light.porch
              - type: vertical-stack
                cards:
                  - type: 'custom:weather-card'
                    entity: weather.openweathermap
                  - type: horizontal-stack
                    cards:
                      - type: picture-entity
                        title: front
                        entity: camera.front

                      - type: picture-entity
                        title: back
                        entity: camera.back
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                entities:
                  - entity: sensor.solar_now_watts
                    name: Power
                    show_state: true
                  - entity: sensor.solar_elevation
                    name: Elevation
                    line_width: 1
                    show_fill: false
                    show_state: false
                    y_axis: secondary
                    color: '#666666'
                  - entity: sensor.openweathermap_cloud_coverage
                    name: Cloud Cover
                    line_width: 1
                    show_fill: false
                    show_state: true
                    y_axis: secondary
                hour24: true
                hours_to_show: 48
                points_per_hour: 15
                line_width: 1
                lower_bound_secondary: 0
                # group_by: hour
                show:
                  extrema: true
                  average: true
                  graph: true
                  points: false
                  legend: false
              - type: 'custom:mini-graph-card'
                entities:
                  - entity: sensor.solar_today_kwh
                    name: Daily Energy
                aggregate_func: max
                lower_bound: 0
                upper_bound: 50
                hour24: true
                hours_to_show: 168
                points_per_hour: 1
                group_by: date
                show:
                  extrema: true
                  average: true
                  graph: bar
  - title: Solar
    icon: 'mdi:solar-power'
    panel: false
    type: sidebar
    cards:
      - type: horizontal-stack
        cards:
          - type: 'custom:mini-graph-card'
            entities:
              - entity: sensor.solar_now_watts
              # - entity: sensor.envoy_122020046917_current_energy_production
                name: Power
                show_state: true
              - entity: sensor.solar_elevation
                name: Elevation
                line_width: 1
                show_fill: false
                show_state: false
                y_axis: secondary
                color: '#666666'
              - entity: sensor.openweathermap_cloud_coverage
                name: Cloud Cover
                line_width: 1
                show_fill: false
                show_state: true
                y_axis: secondary
            hour24: true
            icon: mdi:solar-panel-large
            hours_to_show: 48
            points_per_hour: 15
            line_width: 1
            lower_bound_secondary: 0
            # group_by: hour
            show:
              extrema: false
              average: false
              graph: true
              points: false
              legend: false
          - type: 'custom:mini-graph-card'
            entities:
              # - entity: sensor.solar_daily_energy
              - entity: sensor.solar_today_kwh
                name: Daily Energy
            aggregate_func: max
            hour24: true
            hours_to_show: 168
            points_per_hour: 1
            group_by: date
            icon: mdi:solar-panel-large
            lower_bound: 0
            upper_bound: 50
            show:
              extrema: false
              average: false
              graph: bar

      - type: picture-elements
        image: /local/solar_array.png
        view_layout:
          position: main
        elements:
          # total 
          - type: state-label
            entity: sensor.solar_now_watts
            style:
              top: 10%
              left: 90%
              color: green
              font-size: 100%
          # top row
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022044232
            style:
              top: 17%
              left: 20%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022043825
            style:
              top: 16%
              left: 40%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022041705
            style:
              top: 14%
              left: 58%
              color: green
              font-size: 100%

          # second row
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022044444
            style:
              top: 43%
              left: 8%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022045317
            style:
              top: 32%
              left: 40%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022045319
            style:
              top: 30%
              left: 58%
              color: green
              font-size: 100%

          # third row
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022042115
            style:
              top: 48%
              left: 40%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022041528
            style:
              top: 46%
              left: 58%
              color: green
              font-size: 100%

          # forth row
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022034607
            style:
              top: 75%
              left: 10%
              color: green
              font-size: 100%

          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022041716
            style:
              top: 67%
              left: 23%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022044656
            style:
              top: 65%
              left: 40%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022043821
            style:
              top: 63%
              left: 59%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022045217
            style:
              top: 60%
              left: 78%
              color: green
              font-size: 100%

          # fifth row
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022044694
            style:
              top: 84%
              left: 23%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022045256
            style:
              top: 82%
              left: 42%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022042818
            style:
              top: 79%
              left: 60%
              color: green
              font-size: 100%
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022041671
            style:
              top: 78%
              left: 78%
              color: green
              font-size: 100%

          # far bottom right panel
          - type: state-label
            entity: sensor.envoy_122020046917_inverter_202022042010
            style:
              top: 64%
              left: 92%
              color: green
              font-size: 100%

      - type: grid
        columns: 2
        square: false
        view_layout:
          position: sidebar
        cards:
          - type: sensor
            entity: sensor.solar_lifetime_mwh
            icon: mdi:solar-panel-large
          - type: sensor
            name: Solar Last 7 Days
            entity: sensor.solar_week_kwh
            icon: mdi:solar-panel
          - type: sensor
            name: Max Daily Solar
            entity: sensor.max_daily_solar_energy
          - type: sensor
            entity: sensor.moon

      - type: 'custom:weather-card'
        view_layout:
          position: sidebar
        entity: weather.openweathermap
      - type: 'custom:sun-card'
        view_layout:
          position: sidebar
        showElevation: true
        showAzimuth: true
        timeFormat: '24h'

  - title: Cameras
    icon: 'mdi:cctv'
    type: sidebar
    cards:

      - type: grid
        view_layout:
          position: main
        columns: 3
        cards:
          - type: picture-entity
            title: Front
            entity: camera.front
          - type: picture-entity
            title: Front Person
            entity: camera.front_person
          - type: picture-entity
            title: Front Cat
            entity: camera.front_cat
          - type: picture-entity
            title: Back
            entity: camera.back
          - type: picture-entity
            title: Back Person
            entity: camera.back_person
          - type: picture-entity
            title: Back Cat
            entity: camera.back_cat
      - type: 'custom:mini-graph-card'
        view_layout:
          position: sidebar
        name: Coral Inference
        points_per_hour: 100
        hours_to_show: 1
        entities:
          - entity: sensor.coral_inference_speed
            name: Coral
            show_state: true
      - type: 'custom:mini-graph-card'
        view_layout:
          position: sidebar
        name: Detection FPS
        points_per_hour: 100
        hours_to_show: 1
        entities:
          - entity: sensor.detection_fps
            name: Frigate
            show_state: true
          - entity: sensor.front_detection_fps
            name: Front
            show_state: true
          - entity: sensor.back_detection_fps
            name: Back
            show_state: true
      - type: markdown
        view_layout:
          position: sidebar
        content: >
          # [Frigate Local](http://192.168.88.12:5000/)
          
          # [Frigate Tailscale](http://100.99.169.123:5000/)
            

  - title: Weather
    icon: mdi:weather-sunny
    cards:
      - type: 'custom:weather-card'
        entity: weather.openweathermap
      # - type: picture-entity
      #   entity: camera.radar_dc_current
      - type: 'custom:mini-graph-card'
        name: Temperature
        entities:
          - entity: sensor.downstairs_temperature
            name: Downstairs
            show_state: true
            state_adaptive_color: true
          - entity: sensor.upstairs_temperature
            name: Upstairs
            show_state: true
            state_adaptive_color: true
          - entity: sensor.ecobee_outside_temperature
            name: Outside
            show_state: true
            state_adaptive_color: true
          - color: '#666666'
            entity: sensor.solar_elevation
            line_width: 1
            show_fill: false
            show_state: false
            y_axis: secondary
        hour24: true
        hours_to_show: 168
        points_per_hour: 12
        line_width: 2
        lower_bound_secondary: 0
        show:
          extrema: true
          graph: true
          points: false
          legend: true
        animate: false
      - type: 'custom:mini-graph-card'
        name: Humidity
        entities:
          - entity: sensor.downstairs_humidity
            name: Downstairs
            show_state: true
            state_adaptive_color: true
          - entity: sensor.upstairs_humidity
            name: Upstairs
            show_state: true
            state_adaptive_color: true
          - entity: sensor.ecobee_outside_humidity
            name: Outside
            show_state: true
            state_adaptive_color: true
          - color: '#666666'
            entity: sensor.solar_elevation
            line_width: 1
            show_fill: false
            show_state: false
            y_axis: secondary
        hour24: true
        hours_to_show: 168
        points_per_hour: 12
        line_width: 2
        lower_bound_secondary: 0
        show:
          extrema: true
          graph: true
          points: false
          legend: true
        animate: false
      - type: 'custom:mini-graph-card'
        name: Air Pressure
        entities:
          - entity: sensor.ecobee_outside_pressure
            name: Pressure
            show_state: true
            state_adaptive_color: true
          - color: '#666666'
            entity: sensor.solar_elevation
            line_width: 1
            show_fill: false
            show_state: false
            y_axis: secondary
        hour24: true
        hours_to_show: 168
        points_per_hour: 12
        line_width: 2
        lower_bound_secondary: 0
        show:
          extrema: true
          graph: true
          points: false
          legend: false
        animate: false
  - title: F1
    icon: mdi:car-sports
    type: sidebar
    cards:
      - type: markdown
        view_layout:
          position: main
        content: >-
          {% set nr = states.sensor.formula_one_sensor.attributes.next_race %}
          {% if not(nr == None) %} 
          <h1><img height="22" src="https://www.countries-ofthe-world.com/flags-normal/flag-of-{{nr.Circuit.Location.country}}.png">&nbsp;
          {{ nr.raceName }}</h1>

          <small>{{ as_timestamp(nr.date + ' ' + nr.time) | timestamp_custom("%Y-%m-%d %H:%M") }}</small>

          <a target="_new" href="{{nr.Circuit.url}}">
            <img width="100%" src="https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/{{nr.Circuit.Location.country}}_Circuit.png.transform/7col/image.png">
          </a>
          {{nr.Circuit.circuitName}}
          {% endif %}
      - type: vertical-stack
        view_layout:
          position: sidebar
        cards:
        # - type: picture
        #   image: /local/f1.jpg
        #   tap_action:
        #     action: call-service
        #     service: script.turn_on
        #     service_data:
        #       entity_id: script.roku_espn_tap_action
          # tap_action:
            # action: call-service
            # service: media_player.select_source
            # service_data:
            #   entity_id: media_player.50_tcl_roku_tv
            #   source: "ESPN"
        - type: markdown
          content: > 
            ## {{ states.calendar.f1_all.attributes.message }}
              
            {{ ((as_timestamp(states.calendar.f1_all.attributes.start_time) - as_timestamp(now()))/3600) | round(2) }} hours to go

            Start local: {{ states.calendar.f1_all.attributes.start_time}} 

            Start UTC: {{ as_timestamp(states.calendar.f1_all.attributes.start_time)|timestamp_utc}} 

            ## {{ states.calendar.f1_qualifying.attributes.message }}
            
            {{ ((as_timestamp(states.calendar.f1_qualifying.attributes.start_time) - as_timestamp(now()))/3600) | round(2) }} hours to go
            
            Start local: {{ states.calendar.f1_qualifying.attributes.start_time }}

            Start UTC: {{ as_timestamp(states.calendar.f1_qualifying.attributes.start_time)|timestamp_utc }}

            ## {{ states.calendar.f1_race.attributes.message }}
            
            {{ ((as_timestamp(states.calendar.f1_race.attributes.start_time) - as_timestamp(now()))/3600) | round(2) }} hours to go

            Start local: {{ states.calendar.f1_race.attributes.start_time }}

            Start UTC: {{ as_timestamp(states.calendar.f1_race.attributes.start_time)|timestamp_utc }}
        - type: markdown
          content: >
            {% set today = states('sensor.date') %}
            {%- for race in state_attr('sensor.formula_one_sensor', 'races') -%}
            {% set race_day = race.date %}
            {% set race_time = race.time %}
            {%- if race_day > today %}
             **{{ race.raceName }}** {{ race_day }} {{ race_time }}
            {%- else %}
             ~~**{{ race.raceName }}** {{ race_day }} {{ race_time }}~~
            {%- endif %}
            {%- endfor %}
      - type: horizontal-stack
        view_layout: 
          position: main
        cards:
          - type: markdown
            view_layout:
              position: main
            card_mod:
              style:
                ha-markdown$: |
                  table {
                    width: 100%;
                    border-spacing: 0;
                    border-collapse: separate;
                  }
                  th {
                    color: white;
                    background: black;
                  }
                  tr:nth-child(even) {
                    background-color: #dddddd;;
                    color: rgb(33,33,33);
                  }
                  td:nth-child(1) {
                    width: 50px;
                    text-align: center;
                  }
                  td:nth-child(2) {
                    text-align: left;
                  }
                  td:nth-child(3) {
                    width: 60px;
                    text-align: center;
                  }
            content: |-
              <table>
                <thead>
                  <tr>
                    <th>&nbsp;</th>
                    <th>Constructor</th>
                    <th class="center">Pts</th>
                  </tr>
                </thead>
                <tbody>
              {% for driver in states.sensor.formula_one_sensor.attributes.constructors %} 
              <tr>
                <td> {{driver.position}} </td>
                <td> {{driver.Constructor.name }} </td>
                <td> {{driver.points}} </td>
              </tr>
              {% endfor %}
                </tbody>
              </table>
          - type: markdown
            view_layout:
              position: main
            card_mod:
              style:
                ha-markdown$: |
                  table {
                    width: 100%;
                    border-spacing: 0;
                    border-collapse: separate;
                  }
                  th {
                    color: white;
                    background: black;
                  }
                  tr:nth-child(even) {
                    background-color: #dddddd;
                    color: rgb(33,33,33);
                  }
                  td:nth-child(1) {
                    width: 50px;
                    text-align: center;
                  }
                  td:nth-child(2) {
                    width: 50px;
                    text-align: center;
                  }
                  td:nth-child(4) {
                    width: 60px;
                    text-align: center;
                  }
            content: |-
              <table>
                <thead>
                  <tr>
                    <th>&nbsp;</th>
                    <th colspan="2">Drivers</th>
                    <th class="center">Pts</th>
                  </tr>
                </thead>
                <tbody>
              {% for driver in states.sensor.formula_one_sensor.attributes.drivers %} 
              <tr>
                <td> {{driver.position}} </td>
                <td> {{driver.Driver.code}} </td>
                <td> {{driver.Driver.givenName }} {{driver.Driver.familyName}} </td>
                <td> {{driver.points}} </td>
              </tr>
              {% endfor %}
                </tbody>
              </table>

  - title: Commute
    panel: true
    icon: mdi:briefcase
    cards:
      - type: 'custom:mini-graph-card'
        name: Commute
        icon: mdi:briefcase
        hours_to_show: 12
        points_per_hour: 10
        entities:
          - entity: sensor.waze_shankar_work
            name: Shankar
            show_state: true
          - entity: sensor.waze_christine_work
            name: Christine
            show_state: true
        font_size: 75
        show:
          fill: false
  - title: System
    icon: mdi:cog
    cards:
      - type: vertical-stack
        title: Presence 
        cards:
          - type: glance
            show_icon: true
            show_state: false
            entities:
              - binary_sensor.shankar_presence
              - binary_sensor.christine_presence
          - type: 'custom:mini-graph-card'
            name: Presence Probability
            icon: mdi:server
            hours_to_show: 12
            points_per_hour: 10
            entities:
              - entity: sensor.shankar_presence_probability
                name: Shankar
                show_state: true
              - entity: sensor.christine_presence_probability
                name: Christine
                show_state: true
            show:
              fill: false
              legend: false
          - type: 'custom:battery-state-card'
            sort_by_level: asc
            entities:
              - entity: sensor.pixel_2_battery_level
                name: 'Pixel 2'
              - entity: sensor.galaxy_s9_battery_level
                name: 'S9'
              - entity: sensor.nexus_7_battery_level
                name: 'Nexus 7'
    
      - type: vertical-stack
        title: Router
        cards:
          - type: glance
            columns: 4
            show_state: false
            entities:
              - entity: device_tracker.front_cam
                name: 'Front Cam'
                icon: 'mdi:cctv'
              - entity: device_tracker.back_cam
                name: 'Back Cam'
                icon: 'mdi:cctv'
              - entity: device_tracker.downstairs_wap
                name: 'Downstairs WAP'
                icon: 'mdi:router-wireless'
              - entity: device_tracker.upstairs_wap
                name: 'Upstairs WAP'
                icon: 'mdi:router-wireless'
          - type: entities
            entities:
              - sensor.mikrotik_cpu_load
              - sensor.mikrotik_memory_usage
              - sensor.mikrotik_hdd_usage
              - sensor.myip
              - sensor.speedtest_last_run

          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                entities: 
                  - entity: sensor.mikrotik_ether1_rx
                    name: WAN In
                show: 
                  graph: false

              - type: 'custom:mini-graph-card'
                entities:
                  - entity: sensor.mikrotik_ether1_tx
                    name: WAN Out
                    icon: 'mdi:download-network'
                show:
                  graph: false

      - type: vertical-stack
        square: false
        title: WAN
        cards:
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                icon: 'mdi:download-network'
                show:
                  graph: off
                entities:
                  - entity: sensor.speedtest_download
                    show_state: true
                    name: "Download"

              - type: 'custom:mini-graph-card'
                icon: 'mdi:upload-network'
                show:
                  graph: off
                entities:
                  - entity: sensor.speedtest_upload
                    show_state: true
                    name: "Upload"
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                icon: 'mdi:web'
                show:
                  graph: off
                entities:
                  - entity: sensor.google_ping
                    show_state: true
                    name: 'Google Ping'
              - type: 'custom:mini-graph-card'
                icon: 'mdi:web'
                show:
                  graph: off
                entities:
                  - entity: sensor.cloudflare_ping
                    show_state: true
                    name: 'Cloudflare Ping'
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                icon: 'mdi:download-network'
                entities:
                  - entity: sensor.ether1_daily_data_rx
                    show_state: true
                    name: Daily Down
                show: 
                  graph: off
              - type: 'custom:mini-graph-card'
                icon: 'mdi:upload-network'
                entities:
                  - entity: sensor.ether1_daily_data_tx
                    show_state: true
                    name: Daily Up
                show:
                  graph: off
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                icon: 'mdi:download-network'
                entities:
                  - entity: sensor.ether1_monthly_data_rx
                    show_state: true
                    name: Monthly Down
                show: 
                  graph: off
              - type: 'custom:mini-graph-card'
                icon: 'mdi:upload-network'
                entities:
                  - entity: sensor.ether1_monthly_data_tx
                    show_state: true
                    name: Monthly Up
                show:
                  graph: off
          - type: horizontal-stack
            cards:
              - type: 'custom:mini-graph-card'
                icon: 'mdi:download-network'
                entities:
                  - entity: sensor.ether1_yearly_data_rx
                    show_state: true
                    name: Yearly Down
                show: 
                  graph: off
              - type: 'custom:mini-graph-card'
                icon: 'mdi:upload-network'
                entities:
                  - entity: sensor.ether1_yearly_data_tx
                    show_state: true
                    name: Yearly Up
                show:
                  graph: off

  - title: Docker
    icon: mdi:docker
    cards:
      - type: entities
        title: ubuntu-server
        entities:
          - entity: sensor.processor_use_percent
            name: CPU 
          - entity: sensor.memory_use_percent
            name: Memory
          - entity: sensor.processor_temperature
            name: CPU temp
          - type: divider
          - entity: sensor.ha_db_size
          - entity: sensor.disk_use_percent_config
            name: SSD
          - entity: sensor.disk_use_percent_media_data
            name: ZFS pool
          - entity: sensor.disk_use_percent_media_camera
            name: USB drive
      - type: 'custom:mini-graph-card'
        name: Disk
        hours_to_show: 48
        points_per_hour: 10
        line_width: 1
        show:
          fill: false
          state: true
          labels: true
        entities:
          - entity: sensor.disk_use_percent_config
            show_state: true
            name: SSD
          - entity: sensor.disk_use_percent_media_data
            show_state: true
            name: ZFS pool
          - entity: sensor.disk_use_percent_media_camera
            show_state: true
            name: USB drive
      - type: entities
        title: Server Status
        entities:
          - binary_sensor.influxdb_status
          - binary_sensor.deconz_status
          - binary_sensor.frigate_status
          - binary_sensor.photoprism_status
          - binary_sensor.syncthing_status
          - binary_sensor.omada_status
          - binary_sensor.grafana_status
      - type: markdown
        content: >
          # [PhotoPrism TS](http://100.99.169.123:2342/browse)
          
          # [PhotoPrism Local](http://192.168.88.12:2342/browse)
      - type: 'custom:mini-graph-card'
        name: CPU
        hours_to_show: 12
        points_per_hour: 10
        # font_size: 20
        line_width: 1
        show:
          fill: false
          state: true
          labels: true
        entities:
          - entity: sensor.docker_cpu
            name: Docker
          - entity: sensor.docker_homeassistant_cpu
            name: HA
          - entity: sensor.docker_omada_controller_cpu
            name: Omada
          - entity: sensor.docker_signalcli_cpu
            name: Signal
          - entity: sensor.docker_mariadb_homeassistant_cpu
            name: MariaDB
          - entity: sensor.docker_deconz_cpu
            name: Deconz
      - type: 'custom:mini-graph-card'
        name: Mem
        hours_to_show: 12
        points_per_hour: 10
        # font_size: 20
        line_width: 1
        show:
          fill: false
          state: true
          labels: true
        entities:
          - entity: sensor.docker_memory
            name: Docker
          - entity: sensor.docker_homeassistant_memory
            name: HA
          - entity: sensor.docker_omada_controller_memory
            name: Omada
          - entity: sensor.docker_signalcli_memory
            name: Signal
          - entity: sensor.docker_mariadb_homeassistant_memory
            name: MariaDB
          - entity: sensor.docker_deconz_memory
            name: Deconz
  - panel: false
    title: Sensors
    badges: []
    cards:
      - type: entities
        entities:
          - entity: group.water_sensors
          - entity: binary_sensor.attic
          - entity: binary_sensor.laundry
          - entity: binary_sensor.water_heater
        show_header_toggle: true
        title: Water Sensors
      - type: entities
        entities:
          - entity: group.alarm_sensors
          - entity: binary_sensor.basement_door
          - entity: binary_sensor.front_door
          - entity: binary_sensor.back_door
          - entity: binary_sensor.window
        title: Door Sensor
      - type: entities
        entities:
          - entity: sensor.attic_battery_level
          - entity: sensor.laundry_battery_level
          - entity: sensor.water_heater_battery_level
          - entity: sensor.basement_door_battery_level
          - entity: sensor.front_door_battery_level
          - entity: sensor.back_door_battery_level
          - entity: sensor.window_battery_level
        title: Sensor Battery
